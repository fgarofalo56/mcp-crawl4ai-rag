<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1000" style="background: #ffffff;">
  <defs>
    <!-- Gradients -->
    <linearGradient id="coreGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="commandGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="agentGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="hookGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#43e97b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#38f9d7;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="mcpGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#fa709a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fee140;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="externalGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#30cfd0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#330867;stop-opacity:1" />
    </linearGradient>

    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#999" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="700" y="30" font-family="Arial, sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#333">
    Claude Code System Architecture
  </text>
  <text x="700" y="55" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">
    Layered Architecture with MCP Integration
  </text>

  <!-- Core: Claude Code Engine (Center) -->
  <g id="core">
    <rect x="550" y="400" width="300" height="140" rx="15" fill="url(#coreGradient)" stroke="#5a67d8" stroke-width="3" />
    <text x="700" y="445" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#fff">
      Claude Code
    </text>
    <text x="700" y="470" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#fff">
      Core Engine
    </text>
    <!-- Sub-components -->
    <rect x="565" y="485" width="130" height="40" rx="5" fill="rgba(255,255,255,0.2)" stroke="#fff" stroke-width="1" />
    <text x="630" y="510" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#fff">
      Context Manager
    </text>
    <rect x="705" y="485" width="130" height="40" rx="5" fill="rgba(255,255,255,0.2)" stroke="#fff" stroke-width="1" />
    <text x="770" y="510" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#fff">
      Tool Executor
    </text>
  </g>

  <!-- Layer 1: Commands (Top Left) -->
  <g id="commands">
    <rect x="50" y="150" width="280" height="160" rx="10" fill="url(#commandGradient)" stroke="#e91e63" stroke-width="2" />
    <text x="190" y="180" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#fff">
      üìã Commands Layer
    </text>
    <rect x="65" y="195" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="125" y="215" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      /primer
    </text>
    <rect x="195" y="195" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="255" y="215" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      /task-next
    </text>
    <rect x="65" y="235" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="125" y="255" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      /smart-commit
    </text>
    <rect x="195" y="235" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="255" y="255" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      /azure-validate
    </text>
    <text x="190" y="290" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff" font-style="italic">
      User-facing workflows
    </text>
  </g>

  <!-- Layer 2: Agents (Top Right) -->
  <g id="agents">
    <rect x="1070" y="150" width="280" height="160" rx="10" fill="url(#agentGradient)" stroke="#0288d1" stroke-width="2" />
    <text x="1210" y="180" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#fff">
      ü§ñ Agents Layer
    </text>
    <rect x="1085" y="195" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="1145" y="215" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      validation-gates
    </text>
    <rect x="1215" y="195" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="1275" y="215" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      python-pro
    </text>
    <rect x="1085" y="235" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="1145" y="255" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      docs-architect
    </text>
    <rect x="1215" y="235" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="1275" y="255" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      ai-engineer
    </text>
    <text x="1210" y="290" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff" font-style="italic">
      Specialized AI assistants
    </text>
  </g>

  <!-- Layer 3: Hooks (Bottom Left) -->
  <g id="hooks">
    <rect x="50" y="650" width="280" height="160" rx="10" fill="url(#hookGradient)" stroke="#00bfa5" stroke-width="2" />
    <text x="190" y="680" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#fff">
      ü™ù Hooks Layer
    </text>
    <rect x="65" y="695" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="125" y="715" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      session-start
    </text>
    <rect x="195" y="695" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="255" y="715" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      pre-commit
    </text>
    <rect x="65" y="735" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="125" y="755" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      post-commit
    </text>
    <rect x="195" y="735" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="255" y="755" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      session-end
    </text>
    <text x="190" y="790" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff" font-style="italic">
      Event-driven automation
    </text>
  </g>

  <!-- Layer 4: MCP Servers (Bottom Right) -->
  <g id="mcp">
    <rect x="1070" y="650" width="280" height="160" rx="10" fill="url(#mcpGradient)" stroke="#ff9800" stroke-width="2" />
    <text x="1210" y="680" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#fff">
      üåê MCP Servers
    </text>
    <rect x="1085" y="695" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="1145" y="715" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      microsoft-docs
    </text>
    <rect x="1215" y="695" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="1275" y="715" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      serena
    </text>
    <rect x="1085" y="735" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="1145" y="755" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      playwright
    </text>
    <rect x="1215" y="735" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="1275" y="755" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      azure-mcp
    </text>
    <text x="1210" y="790" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff" font-style="italic">
      External capabilities
    </text>
  </g>

  <!-- External Integrations (Right Side) -->
  <g id="external">
    <rect x="1070" y="400" width="280" height="140" rx="10" fill="url(#externalGradient)" stroke="#5e35b1" stroke-width="2" />
    <text x="1210" y="430" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#fff">
      üîå External Services
    </text>
    <rect x="1085" y="445" width="80" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="1125" y="465" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      Git
    </text>
    <rect x="1175" y="445" width="80" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="1215" y="465" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      Azure
    </text>
    <rect x="1265" y="445" width="80" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="1305" y="465" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      APIs
    </text>
    <rect x="1085" y="485" width="80" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="1125" y="505" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      Databases
    </text>
    <rect x="1175" y="485" width="80" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="1215" y="505" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      Web
    </text>
    <rect x="1265" y="485" width="80" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="1305" y="505" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      Docs
    </text>
  </g>

  <!-- Knowledge Base (Left Side) -->
  <g id="knowledge">
    <rect x="50" y="400" width="280" height="140" rx="10" fill="#9c27b0" stroke="#7b1fa2" stroke-width="2" />
    <text x="190" y="430" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#fff">
      üóÑÔ∏è Knowledge Base
    </text>
    <rect x="65" y="445" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="125" y="465" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      Vector DB
    </text>
    <rect x="195" y="445" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="255" y="465" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      Project Memory
    </text>
    <rect x="65" y="485" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="125" y="505" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      Code Patterns
    </text>
    <rect x="195" y="485" width="120" height="30" rx="5" fill="rgba(255,255,255,0.3)" />
    <text x="255" y="505" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#fff">
      Learnings
    </text>
  </g>

  <!-- Data Flow Arrows -->
  <!-- Commands to Core -->
  <line x1="330" y1="230" x2="550" y2="450" stroke="#999" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
  <text x="420" y="320" font-family="Arial, sans-serif" font-size="10" fill="#666">
    Invoke
  </text>

  <!-- Core to Agents -->
  <line x1="850" y1="450" x2="1070" y2="230" stroke="#999" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
  <text x="960" y="320" font-family="Arial, sans-serif" font-size="10" fill="#666">
    Delegate
  </text>

  <!-- Core to Hooks -->
  <line x1="550" y1="520" x2="330" y2="650" stroke="#999" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
  <text x="420" y="600" font-family="Arial, sans-serif" font-size="10" fill="#666">
    Trigger
  </text>

  <!-- Core to MCP -->
  <line x1="850" y1="520" x2="1070" y2="730" stroke="#999" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
  <text x="960" y="640" font-family="Arial, sans-serif" font-size="10" fill="#666">
    Call Tools
  </text>

  <!-- Core to Knowledge Base -->
  <line x1="550" y1="470" x2="330" y2="470" stroke="#999" stroke-width="2" marker-end="url(#arrowhead)" />
  <text x="430" y="460" font-family="Arial, sans-serif" font-size="10" fill="#666">
    Read/Write
  </text>

  <!-- MCP to External -->
  <line x1="1210" y1="650" x2="1210" y2="540" stroke="#999" stroke-width="2" marker-end="url(#arrowhead)" />
  <text x="1220" y="595" font-family="Arial, sans-serif" font-size="10" fill="#666">
    Integrate
  </text>

  <!-- Legend -->
  <g id="legend">
    <rect x="450" y="900" width="500" height="80" rx="5" fill="#f5f5f5" stroke="#ddd" stroke-width="1" />
    <text x="700" y="920" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">
      Architecture Legend
    </text>

    <circle cx="470" cy="945" r="6" fill="#667eea" />
    <text x="485" y="950" font-family="Arial, sans-serif" font-size="11" fill="#333">
      Core Engine
    </text>

    <circle cx="570" cy="945" r="6" fill="#f5576c" />
    <text x="585" y="950" font-family="Arial, sans-serif" font-size="11" fill="#333">
      Commands
    </text>

    <circle cx="660" cy="945" r="6" fill="#00f2fe" />
    <text x="675" y="950" font-family="Arial, sans-serif" font-size="11" fill="#333">
      Agents
    </text>

    <circle cx="740" cy="945" r="6" fill="#43e97b" />
    <text x="755" y="950" font-family="Arial, sans-serif" font-size="11" fill="#333">
      Hooks
    </text>

    <circle cx="810" cy="945" r="6" fill="#fee140" />
    <text x="825" y="950" font-family="Arial, sans-serif" font-size="11" fill="#333">
      MCP
    </text>

    <circle cx="870" cy="945" r="6" fill="#330867" />
    <text x="885" y="950" font-family="Arial, sans-serif" font-size="11" fill="#333">
      External
    </text>

    <line x1="470" y1="965" x2="500" y2="965" stroke="#999" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)" />
    <text x="510" y="970" font-family="Arial, sans-serif" font-size="11" fill="#333">
      Data Flow
    </text>
  </g>

  <!-- Footer -->
  <text x="700" y="990" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#999">
    Claude Code Base Project Setup v1.0 | Layered Architecture with MCP Integration
  </text>
</svg>
